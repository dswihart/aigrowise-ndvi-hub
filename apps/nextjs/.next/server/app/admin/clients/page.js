(()=>{var e={};e.id=500,e.ids=[500],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35034:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},23052:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o}),t(87689),t(84099),t(87824);var r=t(93282),a=t(5736),i=t(93906),n=t.n(i),l=t(36880),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let o=["",{children:["admin",{children:["clients",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,87689)),"C:\\Users\\dswih\\Documents\\bmad-aigrowise\\apps\\nextjs\\app\\admin\\clients\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,66952))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,84099)),"C:\\Users\\dswih\\Documents\\bmad-aigrowise\\apps\\nextjs\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,87824,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,66952))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\dswih\\Documents\\bmad-aigrowise\\apps\\nextjs\\app\\admin\\clients\\page.tsx"],u="/admin/clients/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/clients/page",pathname:"/admin/clients",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},42177:(e,s,t)=>{Promise.resolve().then(t.bind(t,43729))},28202:(e,s,t)=>{Promise.resolve().then(t.bind(t,65675))},58938:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,24424,23)),Promise.resolve().then(t.t.bind(t,37752,23)),Promise.resolve().then(t.t.bind(t,75275,23)),Promise.resolve().then(t.t.bind(t,29842,23)),Promise.resolve().then(t.t.bind(t,1633,23)),Promise.resolve().then(t.t.bind(t,9224,23))},43729:(e,s,t)=>{"use strict";t.d(s,{default:()=>o});var r=t(73227),a=t(23677),i=t(91009),n=t(4713),l=t(40096),d=t(7403);function o(){let[e,s]=(0,a.useState)([]),[t,o]=(0,a.useState)(!0),[c,u]=(0,a.useState)(null),m=async()=>{try{o(!0),u(null);let e=await fetch("/api/admin/clients"),t=await e.json();e.ok?s(t.clients||[]):u(t.error||"Failed to fetch clients")}catch(e){u("Network error occurred")}finally{o(!1)}};return t?r.jsx(i.Zb,{children:r.jsx(i.aY,{className:"py-8",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin text-2xl mb-2",children:"⏳"}),r.jsx("p",{children:"Loading clients..."})]})})}):c?r.jsx(i.Zb,{children:(0,r.jsxs)(i.aY,{className:"py-8",children:[r.jsx(l.bZ,{variant:"destructive",children:(0,r.jsxs)(l.X,{children:["❌ ",c]})}),r.jsx("div",{className:"mt-4",children:r.jsx(d.z,{onClick:m,variant:"outline",children:"Try Again"})})]})}):(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.ll,{className:"flex items-center space-x-2",children:[r.jsx("span",{children:"\uD83D\uDC65"}),r.jsx("span",{children:"Client Accounts"}),r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-sm font-normal",children:e.length})]}),r.jsx(i.SZ,{children:"Manage and view all client accounts in the system"})]}),r.jsx(d.z,{onClick:m,variant:"outline",size:"sm",children:"\uD83D\uDD04 Refresh"})]})}),r.jsx(i.aY,{children:0===e.length?(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[r.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDC64"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No clients yet"}),r.jsx("p",{className:"text-sm mb-4",children:"Get started by creating your first client account"}),r.jsx("a",{href:"/admin/create-client",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md text-sm inline-block",children:"Create First Client"})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)(n.iA,{children:[r.jsx(n.xD,{children:(0,r.jsxs)(n.SC,{children:[r.jsx(n.ss,{children:"Email Address"}),r.jsx(n.ss,{children:"Account Created"}),r.jsx(n.ss,{children:"Status"}),r.jsx(n.ss,{children:"Actions"})]})}),r.jsx(n.RM,{children:e.map(e=>(0,r.jsxs)(n.SC,{children:[r.jsx(n.pj,{className:"font-medium",children:e.email}),r.jsx(n.pj,{children:new Date(e.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),r.jsx(n.pj,{children:r.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:"Active"})}),r.jsx(n.pj,{children:r.jsx("div",{className:"flex space-x-2",children:r.jsx(d.z,{variant:"outline",size:"sm",children:"View"})})})]},e.id))})]})})})]})}},65675:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var r=t(73227),a=t(9925);let i=t(86040).S.withTRPC(function({children:e}){return r.jsx(a.SessionProvider,{children:e})})},40096:(e,s,t)=>{"use strict";t.d(s,{X:()=>o,bZ:()=>d});var r=t(73227),a=t(23677),i=t(31086),n=t(68969);let l=(0,i.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef(({className:e,variant:s,...t},a)=>r.jsx("div",{ref:a,role:"alert",className:(0,n.cn)(l({variant:s}),e),...t}));d.displayName="Alert",a.forwardRef(({className:e,...s},t)=>r.jsx("h5",{ref:t,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...s}));o.displayName="AlertDescription"},7403:(e,s,t)=>{"use strict";t.d(s,{z:()=>o});var r=t(73227),a=t(23677),i=t(62007),n=t(31086),l=t(68969);let d=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...n},o)=>{let c=a?i.g7:"button";return r.jsx(c,{className:(0,l.cn)(d({variant:s,size:t,className:e})),ref:o,...n})});o.displayName="Button"},91009:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,SZ:()=>o,Zb:()=>n,aY:()=>c,ll:()=>d});var r=t(73227),a=t(23677),i=t(68969);let n=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...s}));n.displayName="Card";let l=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",e),...s}));d.displayName="CardTitle";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));o.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},4713:(e,s,t)=>{"use strict";t.d(s,{RM:()=>d,SC:()=>o,iA:()=>n,pj:()=>u,ss:()=>c,xD:()=>l});var r=t(73227),a=t(23677),i=t(68969);let n=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",e),...s})}));n.displayName="Table";let l=a.forwardRef(({className:e,...s},t)=>r.jsx("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",e),...s}));l.displayName="TableHeader";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",a.forwardRef(({className:e,...s},t)=>r.jsx("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));o.displayName="TableRow";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("th",{ref:t,className:(0,i.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));c.displayName="TableHead";let u=a.forwardRef(({className:e,...s},t)=>r.jsx("td",{ref:t,className:(0,i.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));u.displayName="TableCell",a.forwardRef(({className:e,...s},t)=>r.jsx("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},68969:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var r=t(91126),a=t(82890);function i(...e){return(0,a.m6)((0,r.W)(e))}},86040:(e,s,t)=>{"use strict";t.d(s,{S:()=>l});var r=t(36822),a=t(71496),i=t(84182);let n=()=>process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:`http://localhost:${process.env.PORT??3e3}`,l=(0,a.t)({config:()=>({transformer:i.ZP,links:[(0,r.N8)({url:`${n()}/api/trpc`})]}),ssr:!1})},87689:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(99013),a=t(59224),i=t(89011),n=t(78503),l=t(53189);let d=(0,l.createProxy)(String.raw`C:\Users\dswih\Documents\bmad-aigrowise\apps\nextjs\app\admin\clients\client-list.tsx`),{__esModule:o,$$typeof:c}=d;d.default;let u=(0,l.createProxy)(String.raw`C:\Users\dswih\Documents\bmad-aigrowise\apps\nextjs\app\admin\clients\client-list.tsx#default`);async function m(){let e=await (0,a.getServerSession)(n.L);return e||(0,i.redirect)("/login"),"ADMIN"!==e.user?.role&&(0,i.redirect)("/dashboard"),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsx("h1",{className:"text-2xl font-heading font-bold text-secondary-800",children:"\uD83C\uDF31 Aigrowise Admin - Client Management"})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("a",{href:"/admin",className:"text-sm text-secondary-600 hover:text-secondary-800",children:"← Back to Dashboard"}),r.jsx("a",{href:"/admin/create-client",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",children:"+ Add New Client"}),r.jsx("span",{className:"text-sm text-secondary-600",children:e.user?.email})]})]})})}),r.jsx("main",{className:"max-w-6xl mx-auto py-8 px-4",children:r.jsx(u,{})})]})}},84099:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p,metadata:()=>x});var r=t(99013),a=t(46879),i=t.n(a),n=t(7637),l=t.n(n);t(20001);var d=t(53189);let o=(0,d.createProxy)(String.raw`C:\Users\dswih\Documents\bmad-aigrowise\apps\nextjs\app\providers.tsx`),{__esModule:c,$$typeof:u}=o;o.default;let m=(0,d.createProxy)(String.raw`C:\Users\dswih\Documents\bmad-aigrowise\apps\nextjs\app\providers.tsx#default`),x={title:"Aigrowise NDVI Hub",description:"Secure access to your agricultural NDVI imagery and vegetation analysis data"};function p({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:`${i().variable} ${l().variable} font-sans antialiased`,children:r.jsx(m,{children:e})})})}},78503:(e,s,t)=>{"use strict";t.d(s,{L:()=>l});var r=t(18452),a=t(10427),i=t(74750),n=t.n(i);let l={providers:[(0,r.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let s=await a._.user.findUnique({where:{email:e.email}});return s&&await n().compare(e.password,s.password)?{id:s.id,name:s.email,email:s.email,role:s.role}:null}})],session:{strategy:"jwt"},callbacks:{async jwt({token:e,user:s}){if(s&&(e.role=s.role??e.role,e.id=s.id),!s&&e.email){let s=await a._.user.findUnique({where:{email:e.email},select:{id:!0,role:!0}});s&&(e.role=s.role,e.id=s.id)}return e},session:async({session:e,token:s})=>(e.user.role=s.role,e.user.id=s.id,e)},pages:{signIn:"/login"},secret:process.env.NEXTAUTH_SECRET}},10427:(e,s,t)=>{"use strict";t.d(s,{_:()=>a});var r=t(53524);let a=global.prisma??new r.PrismaClient},66952:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(87201);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},20001:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[522,223,152,201,68],()=>t(23052));module.exports=r})();