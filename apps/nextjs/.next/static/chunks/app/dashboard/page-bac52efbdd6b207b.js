(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2910:function(e,s,t){Promise.resolve().then(t.bind(t,8581))},8581:function(e,s,t){"use strict";t.d(s,{default:function(){return y}});var a=t(7573),r=t(7653),n=t(4251),i=t(3187),l=t(6113),d=t(7350),c=t(9938),o=t(5974),x=t(1296);let m=c.fC,u=c.xz,h=c.h_;c.x8;let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(c.aV,{ref:s,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});f.displayName=c.aV.displayName;let g=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(c.VY,{ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[r,(0,a.jsxs)(c.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(x.Pxu,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});g.displayName=c.VY.displayName;let p=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};p.displayName="DialogHeader";let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(c.Dx,{ref:s,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});j.displayName=c.Dx.displayName;let N=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(c.dk,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",t),...r})});N.displayName=c.dk.displayName;var v=t(3046);function y(e){var s;let{session:t}=e,[c,o]=(0,r.useState)(null),{data:x=[],isLoading:h,error:f,refetch:y}=v.S.images.getMyImages.useQuery();return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-2xl font-heading font-bold text-secondary-800",children:"\uD83C\uDF31 Aigrowise NDVI Hub"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-sm text-secondary-600",children:["Welcome, ",null===(s=t.user)||void 0===s?void 0:s.email]}),(0,a.jsx)(i.z,{onClick:()=>{(0,n.signOut)({callbackUrl:"/login"})},variant:"outline",size:"sm",children:"Sign Out"})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-heading font-bold text-secondary-800 mb-2",children:"Your NDVI Dashboard"}),(0,a.jsx)("p",{className:"text-lg text-secondary-600",children:"Monitor your agricultural fields with satellite-based vegetation analysis"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)(l.Zb,{children:(0,a.jsx)(l.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:x.length}),(0,a.jsx)("p",{className:"text-sm text-secondary-600",children:"NDVI Images"})]}),(0,a.jsx)("div",{className:"text-3xl",children:"\uD83D\uDDBC️"})]})})}),(0,a.jsx)(l.Zb,{children:(0,a.jsx)(l.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:x.length>0?"Active":"--"}),(0,a.jsx)("p",{className:"text-sm text-secondary-600",children:"Monitoring Status"})]}),(0,a.jsx)("div",{className:"text-3xl",children:"\uD83D\uDCCA"})]})})}),(0,a.jsx)(l.Zb,{children:(0,a.jsx)(l.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:x.length>0?new Date(x[0].createdAt).toLocaleDateString():"--"}),(0,a.jsx)("p",{className:"text-sm text-secondary-600",children:"Last Updated"})]}),(0,a.jsx)("div",{className:"text-3xl",children:"\uD83D\uDDD3️"})]})})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[(0,a.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"\uD83C\uDF3E"}),(0,a.jsx)("span",{children:"Your NDVI Image Gallery"})]}),(0,a.jsx)(l.SZ,{children:"Click on any image to view it in full resolution and analyze vegetation health"})]}),(0,a.jsxs)(l.aY,{children:[f&&(0,a.jsx)(d.bZ,{variant:"destructive",className:"mb-6",children:(0,a.jsx)(d.X,{children:"Failed to load images. Please try refreshing the page."})}),h?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-secondary-600",children:"Loading your NDVI images..."})]})}):0===x.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF31"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-secondary-800 mb-2",children:"No NDVI Images Yet"}),(0,a.jsx)("p",{className:"text-secondary-600 mb-4",children:"Your agricultural imagery will appear here once our team uploads your field data."}),(0,a.jsx)("p",{className:"text-sm text-secondary-500",children:"Contact our support team if you're expecting images that haven't appeared yet."})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map((e,s)=>(0,a.jsxs)(m,{children:[(0,a.jsx)(u,{asChild:!0,children:(0,a.jsx)("div",{className:"cursor-pointer group",children:(0,a.jsxs)(l.Zb,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[(0,a.jsx)("div",{className:"aspect-square bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"\uD83C\uDF3E"}),(0,a.jsxs)("p",{className:"text-sm font-medium text-primary-800",children:["NDVI Image #",s+1]})]})}),(0,a.jsxs)(l.aY,{className:"p-4",children:[(0,a.jsxs)("p",{className:"text-xs text-secondary-500 mb-1",children:["Captured: ",new Date(e.createdAt).toLocaleDateString()]}),(0,a.jsx)("p",{className:"text-sm font-medium text-secondary-700 group-hover:text-primary-600 transition-colors",children:"Click to analyze"})]})]})})}),(0,a.jsxs)(g,{className:"max-w-4xl",children:[(0,a.jsxs)(p,{children:[(0,a.jsx)(j,{children:"NDVI Image Analysis"}),(0,a.jsxs)(N,{children:["Captured on ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"aspect-video bg-gray-100 rounded-lg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center p-8",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83C\uDF3E"}),(0,a.jsx)("p",{className:"text-lg font-medium text-secondary-700 mb-2",children:"NDVI Analysis View"}),(0,a.jsx)("p",{className:"text-sm text-secondary-500 mb-4",children:"High-resolution satellite imagery showing vegetation health"}),(0,a.jsx)(i.z,{onClick:()=>window.open(e.url,"_blank"),className:"bg-primary-500 hover:bg-primary-600",children:"View Full Resolution Image"})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"bg-primary-50 p-3 rounded",children:[(0,a.jsx)("span",{className:"font-medium text-primary-800",children:"Image ID:"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-primary-600 font-mono",children:e.id.slice(-8)})]}),(0,a.jsxs)("div",{className:"bg-primary-50 p-3 rounded",children:[(0,a.jsx)("span",{className:"font-medium text-primary-800",children:"Date:"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-primary-600",children:new Date(e.createdAt).toLocaleString()})]})]})]})]})]},e.id))})]})]}),(0,a.jsxs)(l.Zb,{className:"mt-8",children:[(0,a.jsx)(l.Ol,{children:(0,a.jsxs)(l.ll,{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{children:"ℹ️"}),(0,a.jsx)("span",{children:"About NDVI Analysis"})]})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-secondary-800 mb-2",children:"What is NDVI?"}),(0,a.jsx)("p",{className:"text-sm text-secondary-600 mb-4",children:"The Normalized Difference Vegetation Index (NDVI) is a key indicator of vegetation health, calculated from satellite imagery to assess crop vitality and growth patterns."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-secondary-800 mb-2",children:"How to Read Your Images"}),(0,a.jsx)("p",{className:"text-sm text-secondary-600 mb-4",children:"Higher NDVI values (shown in greener colors) indicate healthier, more vigorous vegetation, while lower values may suggest stress, disease, or poor growing conditions."})]})]})})]})]})]})}},7350:function(e,s,t){"use strict";t.d(s,{X:function(){return c},bZ:function(){return d}});var a=t(7573),r=t(7653),n=t(5517),i=t(5974);let l=(0,n.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(l({variant:r}),t),...n})});d.displayName="Alert",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})}).displayName="AlertTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",t),...r})});c.displayName="AlertDescription"},3187:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var a=t(7573),r=t(7653),n=t(2721),i=t(5517),l=t(5974);let d=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:c=!1,...o}=e,x=c?n.g7:"button";return(0,a.jsx)(x,{className:(0,l.cn)(d({variant:r,size:i,className:t})),ref:s,...o})});c.displayName="Button"},6113:function(e,s,t){"use strict";t.d(s,{Ol:function(){return l},SZ:function(){return c},Zb:function(){return i},aY:function(){return o},ll:function(){return d}});var a=t(7573),r=t(7653),n=t(5974);let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...r})});i.displayName="Card";let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},5974:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var a=t(7908),r=t(6290);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}},3046:function(e,s,t){"use strict";t.d(s,{S:function(){return l}});var a=t(8903),r=t(5904),n=t(1006);t(3875);let i=()=>"",l=(0,r.t)({config:()=>({transformer:n.ZP,links:[(0,a.N8)({url:"".concat(i(),"/api/trpc")})]}),ssr:!1})}},function(e){e.O(0,[458,271,251,477,938,293,286,744],function(){return e(e.s=2910)}),_N_E=e.O()}]);